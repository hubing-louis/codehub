## 打开浏览器输入地址到页面加载完成，经历了什么？

1，URL解析（客户端）
2，DNS解析（服务器）20~120ms 可优化
3，TCP三次握手：建立客户端和服务端的链接通道
4，发送HTTP请求
5，服务器处理和响应（服务端，外网IP）
6，TCP的四次挥手：关闭客户端和服务端的链接通道
7，浏览器解析渲染（客户端）


重点优化的是：
1，应用缓存



2，DNS解析：先本地解析，再到其他地方解析
客户端》浏览器缓存》本地的hosts文件》本地DNS解析器缓存》本地DNS服务器》根域名服务器

优化：
减少DNS请求次数，DNS预获取
减少HTTP请求次数和请求资源大小：资源合并压缩，字体图标（雪碧图现在用的不多），Base64，图片懒加载，数据延迟分批加载，CDN资源

3，浏览器解析渲染：dom树  ，css树 ， render渲染树

优化：

dom树构建：语义化标签，标签避免多级嵌套
css树：尽可能减少选择器的层级，使用预编译器时，层级嵌套要慎用

style:样式少的时候用style,直接和HTML一起加载了，多的话用link
link:是异步的发送HTTP请求，把link放头部，优先下载CSS(充分利用HTTP多请求并发机制)
@import：是同步的，真实项目中 应该减少@import，或阻塞渲染的请求

js加载放在body底部，避免阻塞

<script>：阻塞，加载完再往下走
<script defer> :异步，加载完后等文档解析完后再执行
<script async> ：异步，加载完就执行

重绘（repaint）：元素样式的改变（但宽高，大小，位置等不变）
重排/回流（reflow）：元素大小或者位置发生了改变，触发了重新布局，导致渲染树重新计算布局和渲染。

减少页面dom操作
